@model nclprospekt.Models.ProduktZdjeciaWO

@{int zdjeciaCount = 0;}

<div id="photoShowDiv" class="col-md-7">
    <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="false">
        @if (@Model.produktZdjecia.Count > 0)
        {
            <!-- Wrapper for slides -->
            <div class="carousel-inner">

                @foreach (var photoItem in @Model.produktZdjecia)
                {
                    var base64 = Convert.ToBase64String(photoItem.ZDJECIE_BIN);
                    var imgSrc = String.Format("data:image/gif;base64,{0}", base64);

                    if (zdjeciaCount == 0)
                    {
                        <div class="item active">
                            <img src="@imgSrc" alt="Brak zdjęcia" class="img-responsive col-lg-12" />
                        </div>
                    }
                    else
                    {
                        <div class="item">
                            <img src="@imgSrc" alt="Brak zdjęcia" class="img-responsive col-lg-12" />
                        </div>
                    }

                    zdjeciaCount++;
                }

            </div>

            <!-- Indicators -->
            <ol class="carousel-indicators">
                @for (var i = 0; i < zdjeciaCount; i++)
                {
                    if (i == 0)
                    {
                        <li data-target="#myCarousel" data-slide-to="@i" class="active"></li>
                    }
                    else
                    {
                        <li data-target="#myCarousel" data-slide-to="@i"></li>
                    }
                }

            </ol>

        }
        else
        {
            <div class="carousel-inner">
                <div class="item active">
                    <img src="~/Content/images/not-available.png" alt="Brak zdjęcia" class="img-responsive col-lg-12" />
                </div>
            </div>
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            </ol>
        }


        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>

    </div>
</div>